(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},24:function(e,t,a){e.exports=a(55)},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),c=a.n(l),s=a(1),i=a(2),o=a(4),u=a(3),m=a(5),h=(a(15),a(6)),p=a(10),d=a(8),E=a(7),b=a.n(E),v="https://nc-newz.herokuapp.com/api/",f=function(e,t,a,n){return b.a.get("".concat(v,"articles"),{params:{p:e,sort_by:t,order:a,topic:n}}).then(function(e){return e.data})},g=function(e){return e?b.a.get("".concat(v,"users/").concat(e)).then(function(e){return e.data}):b.a.get("".concat(v,"users")).then(function(e){return e.data})},y=function(e){return b.a.get("".concat(v,"articles/").concat(e,"/comments")).then(function(e){return e.data})},S=function(e){return b.a.delete("".concat(v,"comments/").concat(e))},O=function(e,t){b.a.post("".concat(v,"articles/").concat(e,"/comments"),Object(d.a)({},t)).then(function(e){return e.data})};function j(e,t,a){return r.a.createElement("div",null,r.a.createElement(h.a,{to:"/home"},r.a.createElement("button",null,"Home")),r.a.createElement(h.a,{to:"/topics"},r.a.createElement("button",null,"Topics")),r.a.createElement(h.a,{to:"/users"},r.a.createElement("button",null,"Users")))}var C=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.props.handleQuerySubmit},r.a.createElement("p",null,"Sort:"),r.a.createElement("select",{name:"sort_by",id:"sort_by",onChange:this.props.handleChange},r.a.createElement("option",{value:"created_at"},"Created"),r.a.createElement("option",{value:"article_id"},"Article ID"),r.a.createElement("option",{value:"title"},"Title"),r.a.createElement("option",{value:"topic"},"Topic"),r.a.createElement("option",{value:"votes"},"Votes"),r.a.createElement("option",{value:"author"},"Author")),r.a.createElement("p",null,"Order:"),r.a.createElement("select",{name:"order",id:"order",onChange:this.props.handleChange},r.a.createElement("option",{value:"desc"},"Desc"),r.a.createElement("option",{value:"asc"},"Asc")),r.a.createElement("button",{type:"submit"},"Submit")))}}]),t}(n.Component),N=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.articles,a=e.topic,n=t.map(function(e){return r.a.createElement("div",{className:"Articles",key:e.article_id},r.a.createElement(h.a,{to:"/articles/".concat(e.article_id)},r.a.createElement("h2",{className:"Article-title"},e.title)),r.a.createElement("div",{className:"Author"},r.a.createElement(h.a,{to:"/articles/topic/".concat(e.topic)},r.a.createElement("p",null,"Topic: ",e.topic)),r.a.createElement(h.a,{to:"/user/".concat(e.author)},r.a.createElement("p",null,"Author: ",e.author)),r.a.createElement("p",null,"Created:"," ",e.created_at.slice(0,19).replace(/[a-zA-Z]/," At: "))),r.a.createElement("p",{className:"Article-body"},e.body.slice(0,250),"..."),r.a.createElement("hr",null),r.a.createElement("small",{className:"Comments"},r.a.createElement(h.a,{to:"/articles/".concat(e.article_id,"#comments")}," ","Comments: ",e.comment_count," "))," ",r.a.createElement("hr",null))});return r.a.createElement("div",null,a?r.a.createElement("h1",{className:"ArtText"},"Articles on ",a):r.a.createElement("h1",{className:"ArtText"},"Articles"),n)}}]),t}(n.Component),A=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.errStatus;return r.a.createElement("div",null,r.a.createElement("h1",null,"Error"),r.a.createElement("p",null,e&&e.message||"Page not found"," "),r.a.createElement("p",null,"Status:",e&&e.status||404))}}]),t}(n.Component),_=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={p:1,sort_by:null,order:null,topic:null,errStatus:!1,isLoading:!0,articles:[],loggedIn:a.props},a.handlePageSubmit=function(e){var t=a.state.p;console.log("page submit init"),a.setState({p:t+e})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;console.log(n,r),a.setState(function(e){return Object(d.a)({},e,Object(p.a)({},n,r))})},a.handleQuerySubmit=function(e){var t=a.state,n=t.p,r=t.sort_by,l=t.order;e.preventDefault(),f(n,r,l).then(function(e){return a.setState({articles:e.articles})}).catch(function(e){a.setState({errStatus:{message:e.response.data.message||"Sorry this page cannot be found",status:e.response.request.status||400},replace:!0})})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.p,n=t.sort_by,r=t.order,l=t.topic;f(a,n,r,l).then(function(t){return e.setState({articles:t.articles,isLoading:!1})}).catch(function(t){e.setState({errStatus:{message:t.response.data.message||"Sorry this page cannot be found",status:t.response.request.status||400},replace:!0})})}},{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.state,r=n.p,l=n.sort_by,c=n.order,s=this.props.topic;t.p===r&&e.topic===s||f(r,l,c,s).then(function(e){return a.setState({articles:e.articles})}).catch(function(e){a.setState({errStatus:{message:e.response.data.message||"Sorry this page cannot be found",status:e.response.request.status||400},replace:!0})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.articles,n=t.p,l=t.isLoading,c=t.errStatus,s=this.props.topic;return l?r.a.createElement("p",null,"Loading..."):c?r.a.createElement(A,{errStatus:c}):a?r.a.createElement("div",{className:"Home"},r.a.createElement("header",{className:"Home-header"},r.a.createElement("h1",{className:"Home-title"},"NC News"),r.a.createElement("h2",{className:"Welcome"},"Welcome to NC News ",this.props.username),r.a.createElement("hr",null),r.a.createElement("hr",null)),r.a.createElement(j,null),r.a.createElement("hr",null),r.a.createElement(h.a,{to:"/postarticle"},r.a.createElement("button",{style:{float:"right"}},"Post Article")),r.a.createElement(C,{handleChange:this.handleChange,handleQuerySubmit:this.handleQuerySubmit}),r.a.createElement(N,{articles:a,topic:s,errStatus:c}),r.a.createElement("div",{className:"Page-button"},r.a.createElement("button",{onClick:function(){return e.handlePageSubmit(-1)},disabled:1===this.state.p},"\xab")," ",n," ",r.a.createElement("button",{onClick:function(){return e.handlePageSubmit(1)}},"\xbb"))):r.a.createElement("p",null,"Sorry, there aren't any articles on this topic")}}]),t}(n.Component),k=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={description:"",slug:"",errStatus:!1},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(function(e){return Object(d.a)({},e,Object(p.a)({},n,r))})},a.handleTopicSubmit=function(e){e.preventDefault();var t={slug:a.state.slug,description:a.state.description};b.a.post("".concat(v,"topics"),Object(d.a)({},t)).then(function(e){e.data;Object(h.c)("/topics")}).catch(function(e){a.setState({errStatus:{message:e.response.data.message||"Sorry you entered an incorrect format",status:e.response.request.status||400},replace:!0})})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=(a.description,a.slug);t.slug!==n||t.description}},{key:"render",value:function(){var e=this.state.errStatus;return e?r.a.createElement(A,{errStatus:e}):r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h2",null,"Add Topic"),r.a.createElement("form",{onSubmit:this.handleTopicSubmit},r.a.createElement("div",null,r.a.createElement("label",null,"Slug: "),r.a.createElement("br",null),r.a.createElement("input",{name:"slug",onChange:this.handleChange,value:this.state.slug})),r.a.createElement("div",null,r.a.createElement("label",null,"Description: "),r.a.createElement("br",null),r.a.createElement("textarea",{name:"description",onChange:this.handleChange,value:this.state.description})),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Submit")))}}]),t}(n.Component),x=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={topics:[],errStatus:!1,isLoading:!0},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("".concat(v,"topics")).then(function(e){return e.data}).then(function(t){return e.setState({topics:t.topics,isLoading:!1})}).catch(function(t){e.setState({errStatus:{message:t.response.data.message||"Sorry this page cannot be found",status:t.response.request.status||400},replace:!0})})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.errStatus,n=this.state.topics.map(function(e){return r.a.createElement("div",{className:"Topics"},r.a.createElement(h.a,{to:"/articles/topic/".concat(e.slug)},r.a.createElement("h2",{className:"Topic-slug"},e.slug)),r.a.createElement("div",null,r.a.createElement("p",null,"Description: ",e.description)),r.a.createElement("hr",null))});return t?r.a.createElement("p",null,"Loading..."):a?r.a.createElement(A,{errStatus:a}):r.a.createElement("div",null,r.a.createElement("header",{className:"Home-header"},r.a.createElement("h1",{className:"Home-title"},"NC News"),r.a.createElement("h2",{className:"Home-title"},"Search Topics"),r.a.createElement("hr",null),r.a.createElement("hr",null)),r.a.createElement(j,null),r.a.createElement("hr",null),r.a.createElement("h1",{className:"ArtText"},"Topics"),n,r.a.createElement("div",null,r.a.createElement(k,null)))}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",avatar_url:"",name:"",errStatus:!1},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(function(e){return Object(d.a)({},e,Object(p.a)({},n,r))})},a.handleUserSubmit=function(e){e.preventDefault();var t={username:a.state.username,avatar_url:a.state.avatar_url,name:a.state.name};b.a.post("".concat(v,"users"),Object(d.a)({},t)).then(function(e){e.data;Object(h.c)("/users")}).catch(function(e){a.setState({errStatus:{message:e.response.data.message||"Sorry this task cannot be completed",status:e.response.request.status||400},replace:!0})})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.errStatus;return e?r.a.createElement(A,{errStatus:e}):r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h2",null,"Add User"),r.a.createElement("form",{onSubmit:this.handleUserSubmit},r.a.createElement("div",null,r.a.createElement("label",null,"Username: "),r.a.createElement("br",null),r.a.createElement("input",{name:"username",onChange:this.handleChange,value:this.state.username})),r.a.createElement("div",null,r.a.createElement("label",null,"Avatar URL: "),r.a.createElement("br",null),r.a.createElement("input",{name:"avatar_url",onChange:this.handleChange,value:this.state.avatar_url})),r.a.createElement("div",null,r.a.createElement("label",null,"Name: "),r.a.createElement("br",null),r.a.createElement("input",{name:"name",onChange:this.handleChange,value:this.state.name})),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Submit")))}}]),t}(n.Component),D=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={users:[],isLoading:!0,errStatus:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;g().then(function(t){return e.setState({users:t.users,isLoading:!1})}).catch(function(t){e.setState({errStatus:{message:t.response.data.message||"Sorry, this page cannot be found",status:t.response.request.status||400},replace:!0})})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.errStatus,n={marginLeft:"10em",marginRight:"40em"},l={borderRadius:"50%",height:"10%",width:"10%",marginBottom:"-10px"},c=this.state.users.map(function(e){return t?r.a.createElement("p",null,"Loading..."):a?r.a.createElement(A,{errStatus:a}):r.a.createElement("div",{className:"Users"},r.a.createElement("div",{style:n},r.a.createElement("h2",{className:"User-name"},"Name: ",e.name," "),r.a.createElement("div",null,r.a.createElement("img",{style:l,src:"https://cdn-images-1.medium.com/max/1200/1*MccriYX-ciBniUzRKAUsAw.png",alt:"Avatar"})),r.a.createElement(h.a,{to:"/user/".concat(e.username)},r.a.createElement("p",null,"Username:",e.username))),r.a.createElement("hr",null))});return r.a.createElement("div",null,r.a.createElement("header",{className:"Home-header"},r.a.createElement("h1",{className:"Home-title"},"NC News"),r.a.createElement("h2",{className:"Home-title"},"Search Users"),r.a.createElement("hr",null)),r.a.createElement("hr",null),r.a.createElement(j,null),r.a.createElement("hr",null),r.a.createElement("h1",{className:"ArtText"},"Users"),c,r.a.createElement("div",null,r.a.createElement(w,null)))}}]),t}(n.Component),T=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={errStatus:!1},a.handleChange=function(e){a.setState({username:e.target.value})},a.handleSubmit=function(e){var t=a.state.username;a.props.handleSignIn(e,t)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.errStatus;return this.props.username?this.props.children:e?r.a.createElement(A,{errStatus:e}):r.a.createElement("div",{className:"SignIn"},r.a.createElement("header",{className:"Sign-in-header"}),r.a.createElement("h1",null,"Welcome to NC News!"),r.a.createElement("h4",null,"Please enter your username"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{name:"username",placeholder:"User: e.g. grumpy19",onChange:this.handleChange,required:!0}),r.a.createElement("button",{type:"submit"},"Submit")),r.a.createElement("br",null))}}]),t}(n.Component),U=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={voteChange:0,errStatus:!1},a.addVote=function(e){var t=a.props,n=t.article_id,r=t.comment_id,l=function(e,t,a){var n=t?"".concat(v,"comments/").concat(t):"".concat(v,"articles/").concat(e);b.a.patch(n,{inc_votes:a}).data};l(n,r,e),a.setState(function(t){return{voteChange:t.voteChange+e}}).catch(function(e){a.setState({errStatus:{message:e.response.data.message||"Sorry this task cannot be completed",status:e.response.request.status||400},replace:!0})})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.votes,a=this.state,n=a.voteChange,l=a.errStatus;return l?r.a.createElement(A,{errStatus:l}):r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("button",{onClick:function(){return e.addVote(1)},disabled:1===n},"\u25b2"),"Votes:",t+n,r.a.createElement("button",{onClick:function(){return e.addVote(-1)},disabled:-1===n},"\u25bc"))}}]),t}(n.Component),H=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={body:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(function(e){return Object(d.a)({},e,Object(p.a)({},n,r))})},a.handleCommentSubmit=function(e){e.preventDefault();var t=a.props,n=t.article_id,r=t.optimisticPostRender,l={body:a.state.body,author:"grumpy19"};O(n,l),r(l)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h2",null,"Add Comment"),r.a.createElement("form",{onSubmit:this.handleCommentSubmit},r.a.createElement("div",null,r.a.createElement("label",null,"Body: "),r.a.createElement("br",null),r.a.createElement("textarea",{name:"body",onChange:this.handleChange,value:this.state.body})),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Submit")))}}]),t}(n.Component),L=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={comments:[],didDelete:0},a.handleDelete=function(e){var t=e.target.id,n=a.state.comments.filter(function(e){return e.comment_id!==+t});S(t).catch(function(e){return console.log(n)}),a.setState({comments:n})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"optimisticPostRender",value:function(e){this.state.comments.push(e)}},{key:"componentDidMount",value:function(){var e=this,t=this.props.article_id;y(t).then(function(t){return e.setState({comments:t.comments})})}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.article_id;t.didDelete!==this.state.didDelete&&y(a)}},{key:"render",value:function(){var e=this,t={textAlign:"center"},a={margin:"60px",textAlign:"center"},n={textAlign:"center"},l=this.props,c=l.article_id,s=l.username,i=this.state.comments.map(function(l){return r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("h3",{style:a},l.body),r.a.createElement("div",{style:n},s===l.author&&r.a.createElement("button",{onClick:e.handleDelete,id:l.comment_id,type:"submit"},"Delete Post")),r.a.createElement("p",{style:t},"User: ",l.author),r.a.createElement(U,{votes:l.votes,comment_id:l.comment_id,article_id:l.article_id}),r.a.createElement("hr",null))});return r.a.createElement("div",null,r.a.createElement("div",{id:"#comments"},r.a.createElement("hr",null),r.a.createElement("h2",{style:{textAlign:"center"}},"Comments"),i),r.a.createElement("div",null,r.a.createElement(H,{article_id:c,optimisticPostRender:this.optimisticPostRender})))}}]),t}(n.Component),P=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={article:{},errStatus:!1},a.handleDelete=function(e){var t=a.state.article.article_id;e.preventDefault(),b.a.delete("".concat(v,"articles/").concat(t)).then(function(e){e.data;Object(h.c)("/home")}).catch(function(e){return console.log(e)})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,a=this.props.article_id;(e=a,b.a.get("".concat(v,"articles/").concat(e)).then(function(e){return e.data})).then(function(e){return t.setState({article:e.article})}).catch(function(e){t.setState({errStatus:{message:e.response.data.message||"Sorry this page cannot be found",status:e.response.request.status||400},replace:!0})})}},{key:"render",value:function(){var e=this.state.article,t=this.props,a=t.article_id,n=t.comment_id,l={textTransform:"capitalize",margin:"40px",marginBottom:"10px",fontSize:"175%"},c=this.props.username,s=this.state.errStatus;return s?r.a.createElement(A,{errStatus:s}):r.a.createElement("div",null,r.a.createElement("header",{className:"Home-header"},r.a.createElement("h1",{className:"Home-title"},"NC News"),r.a.createElement("hr",null),r.a.createElement("hr",null),r.a.createElement(j,null),r.a.createElement("hr",null)),r.a.createElement(h.a,{to:"/articles/topic/".concat(e.topic)},r.a.createElement("h2",{style:l},e.topic)),r.a.createElement("h3",{style:l},e.title),r.a.createElement("small",{style:{margin:"50px",marginBottom:"20px",textIndent:"2em",marginTop:"10px"}}," Author: ",e.author),r.a.createElement("div",{style:{marginLeft:"3em"}},c===e.author&&r.a.createElement("form",{onSubmit:this.handleDelete},r.a.createElement("button",{type:"submit"},"Delete Post"))),r.a.createElement("p",{style:{margin:"50px",marginBottom:"20px",textIndent:"2em",marginTop:"10px",fontSize:"120%"}},e.body),r.a.createElement("hr",null),r.a.createElement(U,{votes:e.votes,article_id:a}),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(L,{article_id:a,comment_id:n,username:c})))}}]),t}(n.Component),q=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",topic:"",body:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(function(e){return Object(d.a)({},e,Object(p.a)({},n,r))})},a.handlePostSubmit=function(e){e.preventDefault();var t={title:a.state.title,topic:a.state.topic,body:a.state.body,author:"grumpy19"};b.a.post("".concat(v,"articles"),Object(d.a)({},t)).then(function(e){var t=e.data;Object(h.c)("/articles/".concat(t.article.article_id))})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("header",{className:"Home-header"},r.a.createElement("h1",{className:"Home-title"},"NC News"),r.a.createElement("hr",null),r.a.createElement("hr",null)),r.a.createElement(j,null),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h2",null,"Add Article"),r.a.createElement("form",{onSubmit:this.handlePostSubmit},r.a.createElement("div",null,r.a.createElement("label",null,"Title: "),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"title",onChange:this.handleChange,value:this.state.title})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("label",null,"Topic: "),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"topic",onChange:this.handleChange,value:this.state.topic})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("label",null,"Body: "),r.a.createElement("br",null),r.a.createElement("textarea",{name:"body",onChange:this.handleChange,value:this.state.body})),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Submit"))))}}]),t}(n.Component),I=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:{},errStatus:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user;g(t).then(function(t){return e.setState({user:t.user})}).catch(function(t){e.setState({errStatus:{message:t.response.data.message||"Sorry this page cannot be found",status:t.response.request.status||400},replace:!0})})}},{key:"render",value:function(){var e=this.state.errStatus;return e?r.a.createElement(A,{errStatus:e}):r.a.createElement("div",null,r.a.createElement("header",{className:"Home-header"},r.a.createElement("h1",{className:"Home-title"},"NC News"),r.a.createElement("h2",{style:{textTransform:"capitalize",marginLeft:"1em"}},this.props.user),r.a.createElement("hr",null),r.a.createElement("hr",null)),r.a.createElement(j,null),r.a.createElement("hr",null),r.a.createElement("h1",{className:"ArtText"},this.props.user),r.a.createElement("h2",null,this.props.user.name),r.a.createElement("img",{src:this.props.user.avatar_url,alt:"avatar"}))}}]),t}(n.Component),B=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:null,errStatus:!1},a.handleSignIn=function(e,t){e.preventDefault(),g(t).catch(function(e){a.setState({errStatus:{message:e.response.data.message||"Sorry this username is invalid",status:e.response.request.status||400},replace:!0})}).then(function(){a.setState({username:t}),Object(h.c)("/home")}),window.localStorage.setItem("username",t)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.errStatus;return a?r.a.createElement(A,{errStatus:a}):r.a.createElement(n.Fragment,null,r.a.createElement(T,{path:"/",handleSignIn:this.handleSignIn,username:t},r.a.createElement(h.b,null,r.a.createElement(_,{path:"/home"}),r.a.createElement(_,{path:"articles/topic/:topic"}),r.a.createElement(_,{path:"articles/topic/:slug"}),r.a.createElement(x,{path:"/topics"}),r.a.createElement(D,{path:"/users"}),r.a.createElement(P,{path:"/articles/:article_id",username:t}),r.a.createElement(I,{path:"/user/:user"}),r.a.createElement(q,{path:"/postarticle"}),r.a.createElement(A,{default:!0}))," "))}}]),t}(n.Component);c.a.render(r.a.createElement(B,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.9d36fede.chunk.js.map