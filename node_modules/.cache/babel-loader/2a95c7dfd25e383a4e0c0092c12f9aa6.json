{"ast":null,"code":"import _classCallCheck from \"/Users/northcoders15/Desktop/Danny-NC/FRONT2/redo-nc-frontend/FE2-NC-News/nc-news/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/northcoders15/Desktop/Danny-NC/FRONT2/redo-nc-frontend/FE2-NC-News/nc-news/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/northcoders15/Desktop/Danny-NC/FRONT2/redo-nc-frontend/FE2-NC-News/nc-news/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/northcoders15/Desktop/Danny-NC/FRONT2/redo-nc-frontend/FE2-NC-News/nc-news/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/northcoders15/Desktop/Danny-NC/FRONT2/redo-nc-frontend/FE2-NC-News/nc-news/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/northcoders15/Desktop/Danny-NC/FRONT2/redo-nc-frontend/FE2-NC-News/nc-news/src/components/Voting.jsx\";\nimport React, { Component } from \"react\";\n\nvar Voting =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Voting, _Component);\n\n  function Voting() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Voting);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Voting)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      voteChange: 0\n    };\n\n    _this.addVote = function (inc) {\n      var _this$props = _this.props,\n          article_id = _this$props.article_id,\n          comment_id = _this$props.comment_id;\n      console.log(_this.props);\n\n      if (comment_id) {\n        voteInc(article_id, comment_id, inc);\n      } else voteInc(article_id, comment_id, inc);\n\n      _this.setState(function (state) {\n        return {\n          voteChange: state.voteChange + inc\n        };\n      });\n    };\n\n    _this.voteInc = function (article_id, comment_id, direction) {\n      var voteUrl = comment_id ? \"\".concat(url, \"articles/\").concat(article_id, \"/comments/\").concat(comment_id) : \"\".concat(url, \"articles/\").concat(article_id);\n\n      var _axios$patch = axios.patch(voteUrl, {\n        inc_votes: direction\n      }),\n          data = _axios$patch.data;\n\n      return data.article;\n    };\n\n    return _this;\n  }\n\n  _createClass(Voting, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var votes = this.props.votes;\n      var voteChange = this.state.voteChange;\n      console.log(\"votes = \", votes);\n      var voteButton = {\n        textAlign: \"center\"\n      };\n      return React.createElement(\"div\", {\n        style: voteButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this2.addVote(1);\n        },\n        disabled: voteChange === 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, \"\\u25B2\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"Votes:\", votes + voteChange), React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this2.addVote(-1);\n        },\n        disabled: voteChange === -1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, \"\\u25BC\"));\n    }\n  }]);\n\n  return Voting;\n}(Component);\n\nexport default Voting;","map":{"version":3,"sources":["/Users/northcoders15/Desktop/Danny-NC/FRONT2/redo-nc-frontend/FE2-NC-News/nc-news/src/components/Voting.jsx"],"names":["React","Component","Voting","state","voteChange","addVote","inc","props","article_id","comment_id","console","log","voteInc","setState","direction","voteUrl","url","axios","patch","inc_votes","data","article","votes","voteButton","textAlign"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;IAEMC,M;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,UAAU,EAAE;AADN,K;;UAIRC,O,GAAU,UAAAC,GAAG,EAAI;AAAA,wBACoB,MAAKC,KADzB;AAAA,UACPC,UADO,eACPA,UADO;AAAA,UACKC,UADL,eACKA,UADL;AAEfC,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAKJ,KAAjB;;AACA,UAAIE,UAAJ,EAAgB;AACdG,QAAAA,OAAO,CAACJ,UAAD,EAAaC,UAAb,EAAyBH,GAAzB,CAAP;AACD,OAFD,MAEOM,OAAO,CAACJ,UAAD,EAAaC,UAAb,EAAyBH,GAAzB,CAAP;;AACP,YAAKO,QAAL,CAAc,UAAAV,KAAK;AAAA,eAAK;AACtBC,UAAAA,UAAU,EAAED,KAAK,CAACC,UAAN,GAAmBE;AADT,SAAL;AAAA,OAAnB;AAGD,K;;UAEDM,O,GAAU,UAACJ,UAAD,EAAaC,UAAb,EAAyBK,SAAzB,EAAuC;AAC/C,UAAMC,OAAO,GAAGN,UAAU,aACnBO,GADmB,sBACJR,UADI,uBACmBC,UADnB,cAEnBO,GAFmB,sBAEJR,UAFI,CAA1B;;AAD+C,yBAK9BS,KAAK,CAACC,KAAN,CAAYH,OAAZ,EAAqB;AACpCI,QAAAA,SAAS,EAAEL;AADyB,OAArB,CAL8B;AAAA,UAKvCM,IALuC,gBAKvCA,IALuC;;AAQ/C,aAAOA,IAAI,CAACC,OAAZ;AACD,K;;;;;;;6BAEQ;AAAA;;AAAA,UACCC,KADD,GACW,KAAKf,KADhB,CACCe,KADD;AAAA,UAEClB,UAFD,GAEgB,KAAKD,KAFrB,CAECC,UAFD;AAGPM,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBW,KAAxB;AAEA,UAAMC,UAAU,GAAG;AACjBC,QAAAA,SAAS,EAAE;AADM,OAAnB;AAIA,aACE;AAAK,QAAA,KAAK,EAAED,UAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAAClB,OAAL,CAAa,CAAb,CAAN;AAAA,SAAjB;AAAwC,QAAA,QAAQ,EAAED,UAAU,KAAK,CAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAUkB,KAAK,GAAGlB,UAAlB,CAJF,EAKE;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACC,OAAL,CAAa,CAAC,CAAd,CAAN;AAAA,SAAjB;AAAyC,QAAA,QAAQ,EAAED,UAAU,KAAK,CAAC,CAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALF,CADF;AAWD;;;;EA/CkBH,S;;AAkDrB,eAAeC,MAAf","sourcesContent":["import React, { Component } from \"react\";\n\nclass Voting extends Component {\n  state = {\n    voteChange: 0\n  };\n\n  addVote = inc => {\n    const { article_id, comment_id } = this.props;\n    console.log(this.props);\n    if (comment_id) {\n      voteInc(article_id, comment_id, inc);\n    } else voteInc(article_id, comment_id, inc);\n    this.setState(state => ({\n      voteChange: state.voteChange + inc\n    }));\n  };\n\n  voteInc = (article_id, comment_id, direction) => {\n    const voteUrl = comment_id\n      ? `${url}articles/${article_id}/comments/${comment_id}`\n      : `${url}articles/${article_id}`;\n\n    const { data } = axios.patch(voteUrl, {\n      inc_votes: direction\n    });\n    return data.article;\n  };\n\n  render() {\n    const { votes } = this.props;\n    const { voteChange } = this.state;\n    console.log(\"votes = \", votes);\n\n    const voteButton = {\n      textAlign: \"center\"\n    };\n\n    return (\n      <div style={voteButton}>\n        <button onClick={() => this.addVote(1)} disabled={voteChange === 1}>\n          &#9650;\n        </button>\n        <p>Votes:{votes + voteChange}</p>\n        <button onClick={() => this.addVote(-1)} disabled={voteChange === -1}>\n          &#9660;\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default Voting;\n"]},"metadata":{},"sourceType":"module"}