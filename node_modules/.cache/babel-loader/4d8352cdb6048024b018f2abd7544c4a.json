{"ast":null,"code":"import _classCallCheck from \"/Users/northcoders15/Desktop/Danny-NC/FRONT2/redo-nc-frontend/FE2-NC-News/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/northcoders15/Desktop/Danny-NC/FRONT2/redo-nc-frontend/FE2-NC-News/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/northcoders15/Desktop/Danny-NC/FRONT2/redo-nc-frontend/FE2-NC-News/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/northcoders15/Desktop/Danny-NC/FRONT2/redo-nc-frontend/FE2-NC-News/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/northcoders15/Desktop/Danny-NC/FRONT2/redo-nc-frontend/FE2-NC-News/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/northcoders15/Desktop/Danny-NC/FRONT2/redo-nc-frontend/FE2-NC-News/src/components/Voting.jsx\";\nimport React, { Component } from \"react\";\nimport { votePatch, voteInc } from \"../Api\";\nimport HandleError from \"./HandleError\";\n\nvar Voting =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Voting, _Component);\n\n  function Voting() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Voting);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Voting)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      voteChange: 0,\n      errStatus: false\n    };\n\n    _this.addVote = function (inc) {\n      var _this$props = _this.props,\n          article_id = _this$props.article_id,\n          comment_id = _this$props.comment_id;\n\n      var voteInc = function voteInc(article_id, comment_id, inc) {\n        var voteUrl = comment_id ? \"\".concat(url, \"comments/\").concat(comment_id) : \"\".concat(url, \"articles/\").concat(article_id);\n      };\n\n      voteInc(article_id, comment_id, inc);\n      votePatch(article_id, comment_id, inc);\n\n      _this.setState(function (state) {\n        return {\n          voteChange: state.voteChange + inc\n        };\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Voting, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var votes = this.props.votes;\n      var _this$state = this.state,\n          voteChange = _this$state.voteChange,\n          errStatus = _this$state.errStatus;\n      var voteButton = {\n        textAlign: \"center\"\n      };\n      if (errStatus) return React.createElement(HandleError, {\n        errStatus: errStatus,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      });\n      return React.createElement(\"div\", {\n        style: voteButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this2.addVote(1);\n        },\n        disabled: voteChange === 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, \"\\u25B2\"), \"Votes:\", votes + voteChange, React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this2.addVote(-1);\n        },\n        disabled: voteChange === -1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, \"\\u25BC\"));\n    }\n  }]);\n\n  return Voting;\n}(Component);\n\nexport default Voting;","map":{"version":3,"sources":["/Users/northcoders15/Desktop/Danny-NC/FRONT2/redo-nc-frontend/FE2-NC-News/src/components/Voting.jsx"],"names":["React","Component","votePatch","voteInc","HandleError","Voting","state","voteChange","errStatus","addVote","inc","props","article_id","comment_id","voteUrl","url","setState","votes","voteButton","textAlign"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,SAAT,EAAoBC,OAApB,QAAmC,QAAnC;AACA,OAAOC,WAAP,MAAwB,eAAxB;;IAEMC,M;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,UAAU,EAAE,CADN;AAENC,MAAAA,SAAS,EAAE;AAFL,K;;UAKRC,O,GAAU,UAAAC,GAAG,EAAI;AAAA,wBACoB,MAAKC,KADzB;AAAA,UACPC,UADO,eACPA,UADO;AAAA,UACKC,UADL,eACKA,UADL;;AAEf,UAAMV,OAAO,GAAG,SAAVA,OAAU,CAACS,UAAD,EAAaC,UAAb,EAAyBH,GAAzB,EAAiC;AAC/C,YAAMI,OAAO,GAAGD,UAAU,aACnBE,GADmB,sBACJF,UADI,cAEnBE,GAFmB,sBAEJH,UAFI,CAA1B;AAGD,OAJD;;AAKAT,MAAAA,OAAO,CAACS,UAAD,EAAaC,UAAb,EAAyBH,GAAzB,CAAP;AACAR,MAAAA,SAAS,CAACU,UAAD,EAAaC,UAAb,EAAyBH,GAAzB,CAAT;;AACA,YAAKM,QAAL,CAAc,UAAAV,KAAK;AAAA,eAAK;AACtBC,UAAAA,UAAU,EAAED,KAAK,CAACC,UAAN,GAAmBG;AADT,SAAL;AAAA,OAAnB;AAGD,K;;;;;;;6BAEQ;AAAA;;AAAA,UACCO,KADD,GACW,KAAKN,KADhB,CACCM,KADD;AAAA,wBAE2B,KAAKX,KAFhC;AAAA,UAECC,UAFD,eAECA,UAFD;AAAA,UAEaC,SAFb,eAEaA,SAFb;AAIP,UAAMU,UAAU,GAAG;AACjBC,QAAAA,SAAS,EAAE;AADM,OAAnB;AAIA,UAAIX,SAAJ,EAAe,OAAO,oBAAC,WAAD;AAAa,QAAA,SAAS,EAAEA,SAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AAEf,aACE;AAAK,QAAA,KAAK,EAAEU,UAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACT,OAAL,CAAa,CAAb,CAAN;AAAA,SAAjB;AAAwC,QAAA,QAAQ,EAAEF,UAAU,KAAK,CAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,YAISU,KAAK,GAAGV,UAJjB,EAKE;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACE,OAAL,CAAa,CAAC,CAAd,CAAN;AAAA,SAAjB;AAAyC,QAAA,QAAQ,EAAEF,UAAU,KAAK,CAAC,CAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALF,CADF;AAWD;;;;EAzCkBN,S;;AA4CrB,eAAeI,MAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { votePatch, voteInc } from \"../Api\";\nimport HandleError from \"./HandleError\";\n\nclass Voting extends Component {\n  state = {\n    voteChange: 0,\n    errStatus: false\n  };\n\n  addVote = inc => {\n    const { article_id, comment_id } = this.props;\n    const voteInc = (article_id, comment_id, inc) => {\n      const voteUrl = comment_id\n        ? `${url}comments/${comment_id}`\n        : `${url}articles/${article_id}`;\n    };\n    voteInc(article_id, comment_id, inc);\n    votePatch(article_id, comment_id, inc);\n    this.setState(state => ({\n      voteChange: state.voteChange + inc\n    }));\n  };\n\n  render() {\n    const { votes } = this.props;\n    const { voteChange, errStatus } = this.state;\n\n    const voteButton = {\n      textAlign: \"center\"\n    };\n\n    if (errStatus) return <HandleError errStatus={errStatus} />;\n\n    return (\n      <div style={voteButton}>\n        <button onClick={() => this.addVote(1)} disabled={voteChange === 1}>\n          &#9650;\n        </button>\n        Votes:{votes + voteChange}\n        <button onClick={() => this.addVote(-1)} disabled={voteChange === -1}>\n          &#9660;\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default Voting;\n"]},"metadata":{},"sourceType":"module"}