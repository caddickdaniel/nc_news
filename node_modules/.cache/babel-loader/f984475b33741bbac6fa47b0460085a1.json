{"ast":null,"code":"import _classCallCheck from \"/Users/northcoders15/Desktop/Danny-NC/FRONT2/redo-nc-frontend/FE2-NC-News/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/northcoders15/Desktop/Danny-NC/FRONT2/redo-nc-frontend/FE2-NC-News/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/northcoders15/Desktop/Danny-NC/FRONT2/redo-nc-frontend/FE2-NC-News/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/northcoders15/Desktop/Danny-NC/FRONT2/redo-nc-frontend/FE2-NC-News/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/northcoders15/Desktop/Danny-NC/FRONT2/redo-nc-frontend/FE2-NC-News/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/northcoders15/Desktop/Danny-NC/FRONT2/redo-nc-frontend/FE2-NC-News/src/components/Voting.jsx\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { url } from \"../Api\";\nimport HandleError from \"./HandleError\";\n\nvar Voting =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Voting, _Component);\n\n  function Voting() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Voting);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Voting)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      voteChange: 0,\n      errStatus: false\n    };\n\n    _this.addVote = function (inc) {\n      var _this$props = _this.props,\n          article_id = _this$props.article_id,\n          comment_id = _this$props.comment_id;\n\n      var voteInc = function voteInc(article_id, comment_id, inc) {\n        var voteUrl = comment_id ? \"\".concat(url, \"comments/\").concat(comment_id) : \"\".concat(url, \"articles/\").concat(article_id);\n        axios.patch(voteUrl, {\n          inc_votes: inc\n        });\n      };\n\n      if (comment_id) {\n        voteInc(article_id, comment_id, inc);\n      } else voteInc(article_id, comment_id, inc);\n\n      _this.setState(function (state) {\n        return {\n          voteChange: state.voteChange + inc\n        };\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Voting, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var votes = this.props.votes;\n      var _this$state = this.state,\n          voteChange = _this$state.voteChange,\n          errStatus = _this$state.errStatus;\n      var voteButton = {\n        textAlign: \"center\"\n      };\n      if (errStatus) return React.createElement(HandleError, {\n        errStatus: errStatus,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      });\n      return React.createElement(\"div\", {\n        style: voteButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this2.addVote(1);\n        },\n        disabled: voteChange === 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, \"\\u25B2\"), \"Votes:\", votes + voteChange, React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this2.addVote(-1);\n        },\n        disabled: voteChange === -1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"\\u25BC\"));\n    }\n  }]);\n\n  return Voting;\n}(Component);\n\nexport default Voting;","map":{"version":3,"sources":["/Users/northcoders15/Desktop/Danny-NC/FRONT2/redo-nc-frontend/FE2-NC-News/src/components/Voting.jsx"],"names":["React","Component","axios","url","HandleError","Voting","state","voteChange","errStatus","addVote","inc","props","article_id","comment_id","voteInc","voteUrl","patch","inc_votes","setState","votes","voteButton","textAlign"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,QAApB;AACA,OAAOC,WAAP,MAAwB,eAAxB;;IAEMC,M;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,UAAU,EAAE,CADN;AAENC,MAAAA,SAAS,EAAE;AAFL,K;;UAKRC,O,GAAU,UAAAC,GAAG,EAAI;AAAA,wBACoB,MAAKC,KADzB;AAAA,UACPC,UADO,eACPA,UADO;AAAA,UACKC,UADL,eACKA,UADL;;AAGf,UAAMC,OAAO,GAAG,SAAVA,OAAU,CAACF,UAAD,EAAaC,UAAb,EAAyBH,GAAzB,EAAiC;AAC/C,YAAMK,OAAO,GAAGF,UAAU,aACnBV,GADmB,sBACJU,UADI,cAEnBV,GAFmB,sBAEJS,UAFI,CAA1B;AAIAV,QAAAA,KAAK,CAACc,KAAN,CAAYD,OAAZ,EAAqB;AACnBE,UAAAA,SAAS,EAAEP;AADQ,SAArB;AAGD,OARD;;AAUA,UAAIG,UAAJ,EAAgB;AACdC,QAAAA,OAAO,CAACF,UAAD,EAAaC,UAAb,EAAyBH,GAAzB,CAAP;AACD,OAFD,MAEOI,OAAO,CAACF,UAAD,EAAaC,UAAb,EAAyBH,GAAzB,CAAP;;AACP,YAAKQ,QAAL,CAAc,UAAAZ,KAAK;AAAA,eAAK;AACtBC,UAAAA,UAAU,EAAED,KAAK,CAACC,UAAN,GAAmBG;AADT,SAAL;AAAA,OAAnB;AAGD,K;;;;;;;6BAEQ;AAAA;;AAAA,UACCS,KADD,GACW,KAAKR,KADhB,CACCQ,KADD;AAAA,wBAE2B,KAAKb,KAFhC;AAAA,UAECC,UAFD,eAECA,UAFD;AAAA,UAEaC,SAFb,eAEaA,SAFb;AAIP,UAAMY,UAAU,GAAG;AACjBC,QAAAA,SAAS,EAAE;AADM,OAAnB;AAIA,UAAIb,SAAJ,EAAe,OAAO,oBAAC,WAAD;AAAa,QAAA,SAAS,EAAEA,SAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AAEf,aACE;AAAK,QAAA,KAAK,EAAEY,UAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACX,OAAL,CAAa,CAAb,CAAN;AAAA,SAAjB;AAAwC,QAAA,QAAQ,EAAEF,UAAU,KAAK,CAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,YAISY,KAAK,GAAGZ,UAJjB,EAKE;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACE,OAAL,CAAa,CAAC,CAAd,CAAN;AAAA,SAAjB;AAAyC,QAAA,QAAQ,EAAEF,UAAU,KAAK,CAAC,CAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALF,CADF;AAWD;;;;EAhDkBN,S;;AAmDrB,eAAeI,MAAf","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { url } from \"../Api\";\nimport HandleError from \"./HandleError\";\n\nclass Voting extends Component {\n  state = {\n    voteChange: 0,\n    errStatus: false\n  };\n\n  addVote = inc => {\n    const { article_id, comment_id } = this.props;\n\n    const voteInc = (article_id, comment_id, inc) => {\n      const voteUrl = comment_id\n        ? `${url}comments/${comment_id}`\n        : `${url}articles/${article_id}`;\n\n      axios.patch(voteUrl, {\n        inc_votes: inc\n      });\n    };\n\n    if (comment_id) {\n      voteInc(article_id, comment_id, inc);\n    } else voteInc(article_id, comment_id, inc);\n    this.setState(state => ({\n      voteChange: state.voteChange + inc\n    }));\n  };\n\n  render() {\n    const { votes } = this.props;\n    const { voteChange, errStatus } = this.state;\n\n    const voteButton = {\n      textAlign: \"center\"\n    };\n\n    if (errStatus) return <HandleError errStatus={errStatus} />;\n\n    return (\n      <div style={voteButton}>\n        <button onClick={() => this.addVote(1)} disabled={voteChange === 1}>\n          &#9650;\n        </button>\n        Votes:{votes + voteChange}\n        <button onClick={() => this.addVote(-1)} disabled={voteChange === -1}>\n          &#9660;\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default Voting;\n"]},"metadata":{},"sourceType":"module"}